<div class="card">
  <p-tabs value="0">
    <p-tablist>
      <p-tab value="0">General</p-tab>
      <p-tab value="1">Roles</p-tab>
      <p-tab value="2">Skills</p-tab>
      <p-tab value="3">Currently Assigned project</p-tab>
      <p-tab value="4">Projects History</p-tab>
      <p-tab value="5">Department</p-tab>
      <p-tab value="6">Department Employees</p-tab>
    </p-tablist>
    <p-tabpanels>
      <p-tabpanel value="0">
        <h1>Employee {{ employee.id }}</h1>
        <label for="name">Name:</label>
        <p id="name">{{ employee.name }}</p>
        <label for="surname">Surname:</label>
        <p id="surname">{{ employee.surname }}</p>
        <label for="email">Email:</label>
        <p id="email">{{ employee.email }}</p>
        <label for="status">Status:</label>
        <p id="status">{{ employee.active ? 'Assaigned' : 'Free' }}</p>
      </p-tabpanel>
      <p-tabpanel value="1">
        <p-table
          [value]="employee.user?.roles ?? []"
          [tableStyle]="{ 'min-width': '70rem' }"
        >
          <ng-template pTemplate="header">
            <tr>
              <th id="roleName">Name</th>
              <th id="description">Description</th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-role>
            <tr appTableHover>
              <td>{{ role.name }}</td>
              <td>{{ role.description }}</td>
            </tr>
          </ng-template>
        </p-table>
      </p-tabpanel>
      <p-tabpanel value="2">
        <p-table
          [value]="employee.skills ?? []"
          [tableStyle]="{ 'min-width': '70rem' }"
        >
          <ng-template pTemplate="header">
            <tr>
              <th id="skillName">Name</th>
              <th id="description">Description</th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-skill>
            <tr appTableHover>
              <td>{{ skill.name }}</td>
              <td>{{ skill.description }}</td>
            </tr>
          </ng-template>
        </p-table>
      </p-tabpanel>
      <p-tabpanel value="3"></p-tabpanel>
      <p-tabpanel value="4">
        <p-table
          [value]="projectsHistory"
          [tableStyle]="{ 'min-width': '70rem' }"
        >
          <ng-template pTemplate="header">
            <tr>
              <th id="projectName">Name</th>
              <th id="code">Code</th>
              <th id="endDate">Assigned on</th>
              <th id="endDate">Unassigned on</th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-projectHistory>
            <tr appTableHover>
              <td>{{ projectHistory.project.name }}</td>
              <td>{{ projectHistory.project.code }}</td>
              <td>{{ projectHistory.startDate | date: "dd/MM/yyyy" }}</td>
              <td>{{ projectHistory.endDate | date: "dd/MM/yyyy" }}</td>
            </tr>
          </ng-template>
        </p-table>
      </p-tabpanel>
      <p-tabpanel value="5">
        <div class="card" *ngIf="employee.department">
          <h1>Department {{ employee.department.id }}</h1>
          <label for="name">Name:</label>
          <p id="name">{{ employee.department.name }}</p>
        </div>
      </p-tabpanel>
      <p-tabpanel value="6">
        <div *ngIf="employees.length > 0">
          <p-table [value]="employees" [tableStyle]="{ 'min-width': '70rem' }">
            <ng-template pTemplate="header">
              <tr>
                <th id="id">ID</th>
                <th id="name">Name</th>
                <th id="surname">Surname</th>
                <th id="email">Email</th>
                <th id="employmentDate">Employment Date</th>
                <th id="active">Active</th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-employee>
              <tr appTableHover>
                <td>{{ employee.id }}</td>
                <td>{{ employee.name }}</td>
                <td>{{ employee.surname }}</td>
                <td>{{ employee.email }}</td>
                <td>{{ employee.addDate | date: "dd/MM/yyyy hh:mm:ss" }}</td>
                <td>
                  <div *ngIf="employee.active; else elseBlock">
                    <i class="pi pi-check"></i>
                  </div>
                  <ng-template #elseBlock>
                    <i class="pi pi-times"></i>
                  </ng-template>
                </td>
              </tr>
            </ng-template>
          </p-table>

          <div class="card flex justify-content-center">
            <p-paginator
              (onPageChange)="onPageChange($event)"
              [first]="page.first"
              [rows]="page.rows"
              [totalRecords]="page.pageCount"
              [rowsPerPageOptions]="[5, 10, 20, 30]"
            ></p-paginator>
          </div>
        </div>
      </p-tabpanel>
    </p-tabpanels>
  </p-tabs>
  <div class="action-buttons">
    <p-button label="Edit" (onClick)="goToEdit()" />
  </div>
</div>
